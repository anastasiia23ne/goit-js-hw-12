{"version":3,"file":"index.js","sources":["../src/js/js.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nconst MESSAGES = {\r\n  info: 'Please enter a value in the search field!',\r\n  warning:\r\n    'Sorry, there are no images matching your search query. Please try again!',\r\n  error:\r\n    'Sorry, there are no connection to the server. Please try again later! ',\r\n  exception:\r\n    'Exception: We have some issue with connection. Please try again later! ',\r\n};\r\n\r\nconst MESSAGES_BG_COLORS = {\r\n  blue: '#abd4f8',\r\n  orange: '#f28111',\r\n  red: '#e97782',\r\n};\r\n\r\nfunction showInfoMessage(message, color) {\r\n  iziToast.info({\r\n    position: 'topRight',\r\n    backgroundColor: `${color}`,\r\n    message: `${message}`,\r\n  });\r\n}\r\n\r\nexport { MESSAGES, MESSAGES_BG_COLORS, showInfoMessage };","import axios from 'axios';\r\nimport { MESSAGES, MESSAGES_BG_COLORS, showInfoMessage } from './js.js';\r\n\r\nconst API_KEY = '42598065-1779ad5a953180c3fe77c2809';\r\nconst API_URL = 'https://pixabay.com/api/';\r\n\r\nexport async function getGalleryData(queryValue) {\r\n  try {\r\n    const response = await axios.get(API_URL, {\r\n      params: {\r\n        key: API_KEY,\r\n        q: queryValue,\r\n        image_type: 'photo',\r\n        orientation: 'horizontal',\r\n        safesearch: true,\r\n      },\r\n    });\r\n\r\n    return response.data.hits;\r\n  } catch (error) {\r\n    showInfoMessage(`${MESSAGES.exception} ERROR: ${error.message}`, MESSAGES_BG_COLORS.orange);\r\n    throw error;\r\n  }\r\n}\r\n","import SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nconst gallery = document.querySelector('.gallery');\r\nconst loader = document.querySelector('.loader');\r\n\r\nlet lightbox = new SimpleLightbox('.gallery a', {\r\n  captionsData: 'alt',\r\n  captionDelay: 250,\r\n});\r\n\r\nfunction markup(images) {\r\n  return images\r\n    .map(\r\n      ({\r\n        webformatURL,\r\n        largeImageURL,\r\n        tags,\r\n        likes,\r\n        views,\r\n        comments,\r\n        downloads,\r\n      }) => `\r\n        <li class=\"gallery-item hvr-grow\">\r\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\r\n            <figure class=\"gallery-figure\">\r\n              <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\r\n              <figcaption class=\"gallery-figcaption\">\r\n                <ul class=\"img-content-wrapper\">\r\n                  <li>Likes<span>${likes}</span></li>\r\n                  <li>Views<span>${views}</span></li>\r\n                  <li>Comments<span>${comments}</span></li>\r\n                  <li>Downloads<span>${downloads}</span></li>\r\n                </ul>\r\n              </figcaption>\r\n            </figure>\r\n          </a>\r\n        </li>\r\n      `\r\n    )\r\n    .join('');\r\n}\r\n\r\nexport function renderGallery(images) {\r\n  gallery.insertAdjacentHTML('beforeend', markup(images));\r\n  lightbox.refresh();\r\n}\r\n\r\nexport function clearGallery() {\r\n  gallery.innerHTML = '';\r\n}\r\n\r\nexport function showLoader() {\r\n  if (loader) loader.style.display = 'block';\r\n}\r\n\r\nexport function hideLoader() {\r\n  if (loader) loader.style.display = 'none';\r\n}\r\n","import iziToast from 'izitoast';\r\n\r\nimport { MESSAGES, MESSAGES_BG_COLORS, showInfoMessage } from './js/js.js';\r\nimport { getGalleryData } from './js/pixabay-api.js';\r\nimport { renderGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\r\n\r\nconst form = document.querySelector('.search-form');\r\n\r\nform.addEventListener('submit', onSubmitForm);\r\n\r\nasync function onSubmitForm(event) {\r\n  event.preventDefault();\r\n  iziToast.destroy();\r\n\r\n  const formData = new FormData(event.target);\r\n  const { search } = Object.fromEntries(formData.entries());\r\n\r\n  if (!search.trim()) {\r\n    showInfoMessage(MESSAGES.info, MESSAGES_BG_COLORS.blue);\r\n    clearGallery();\r\n    return;\r\n  }\r\n\r\n  clearGallery();\r\n  showLoader();\r\n\r\n  try {\r\n    const images = await getGalleryData(search.trim());\r\n\r\n    if (!images || images.length === 0) {\r\n      showInfoMessage(MESSAGES.warning, MESSAGES_BG_COLORS.red);\r\n      return;\r\n    }\r\n\r\n    renderGallery(images);\r\n  } catch (error) {\r\n    showInfoMessage(`${MESSAGES.exception} ${error.message}`, MESSAGES_BG_COLORS.orange);\r\n  } finally {\r\n    hideLoader();\r\n    event.target.reset();\r\n  }\r\n}\r\n"],"names":["MESSAGES","MESSAGES_BG_COLORS","showInfoMessage","message","color","iziToast","API_KEY","API_URL","getGalleryData","queryValue","axios","error","gallery","loader","lightbox","SimpleLightbox","markup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","clearGallery","showLoader","hideLoader","form","onSubmitForm","event","formData","search"],"mappings":"owBAGA,MAAMA,EAAW,CACf,KAAM,4CACN,QACE,2EACF,MACE,yEACF,UACE,yEACJ,EAEMC,EAAqB,CACzB,KAAM,UACN,OAAQ,UACR,IAAK,SACP,EAEA,SAASC,EAAgBC,EAASC,EAAO,CACvCC,EAAS,KAAK,CACZ,SAAU,WACV,gBAAiB,GAAGD,CAAK,GACzB,QAAS,GAAGD,CAAO,EACvB,CAAG,CACH,CCtBA,MAAMG,EAAU,qCACVC,EAAU,2BAET,eAAeC,EAAeC,EAAY,CAC/C,GAAI,CAWF,OAViB,MAAMC,EAAM,IAAIH,EAAS,CACxC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GAEe,KAAK,IACtB,OAAQE,EAAO,CACd,MAAAT,EAAgB,GAAGF,EAAS,SAAS,WAAWW,EAAM,OAAO,GAAIV,EAAmB,MAAM,EACpFU,CACP,CACH,CCpBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAOC,EAAQ,CACtB,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,0CAE8BL,CAAa;AAAA;AAAA,gDAEPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,mCAGvCC,CAAK;AAAA,mCACLC,CAAK;AAAA,sCACFC,CAAQ;AAAA,uCACPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAO3C,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,EAAcR,EAAQ,CACpCL,EAAQ,mBAAmB,YAAaI,EAAOC,CAAM,CAAC,EACtDH,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAQ,UAAY,EACtB,CAEO,SAASe,GAAa,CACvBd,IAAQA,EAAO,MAAM,QAAU,QACrC,CAEO,SAASe,GAAa,CACvBf,IAAQA,EAAO,MAAM,QAAU,OACrC,CCpDA,MAAMgB,EAAO,SAAS,cAAc,cAAc,EAElDA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EACpB1B,EAAS,QAAO,EAEhB,MAAM2B,EAAW,IAAI,SAASD,EAAM,MAAM,EACpC,CAAE,OAAAE,CAAM,EAAK,OAAO,YAAYD,EAAS,QAAO,CAAE,EAExD,GAAI,CAACC,EAAO,OAAQ,CAClB/B,EAAgBF,EAAS,KAAMC,EAAmB,IAAI,EACtDyB,IACA,MACD,CAEDA,IACAC,IAEA,GAAI,CACF,MAAMV,EAAS,MAAMT,EAAeyB,EAAO,KAAM,CAAA,EAEjD,GAAI,CAAChB,GAAUA,EAAO,SAAW,EAAG,CAClCf,EAAgBF,EAAS,QAASC,EAAmB,GAAG,EACxD,MACD,CAEDwB,EAAcR,CAAM,CACrB,OAAQN,EAAO,CACdT,EAAgB,GAAGF,EAAS,SAAS,IAAIW,EAAM,OAAO,GAAIV,EAAmB,MAAM,CACvF,QAAY,CACR2B,IACAG,EAAM,OAAO,OACd,CACH"}